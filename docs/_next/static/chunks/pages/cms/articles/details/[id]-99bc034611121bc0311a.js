_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[15],{SsrU:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g}));var r=n("nKUr"),c=n("rePB"),a=n("o0o1"),s=n.n(a),o=n("HaE+"),i=n("CafY"),u=n("g4pe"),l=n.n(u),j=n("YFqc"),b=n.n(j),p=n("20a2"),f=n("q1tI"),d=n("QojX"),O=n("cWnB");function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(){var e=Object(f.useState)({}),t=e[0],n=e[1],c=Object(f.useState)([]),a=c[0],u=c[1],j=Object(p.useRouter)(),h=j.query.id;Object(f.useEffect)(Object(o.a)(s.a.mark((function e(){var t,r,c,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/categories?returnType=array");case 2:return t=e.sent,e.next=5,t.json();case 5:return r=e.sent,u(r),e.next=9,fetch("/api/posts/".concat(h));case 9:return c=e.sent,e.next=12,c.json();case 12:a=e.sent,n(a);case 14:case"end":return e.stop()}}),e)}))),[]);var g=function(){var e=Object(o.a)(s.a.mark((function e(n){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,fetch("/api/posts/".concat(h),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return r=e.sent,e.next=6,r.json();case 6:e.sent,j.back();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(o.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!window.confirm("Are you sure that you want to delete this Article?")){e.next=6;break}return e.next=5,fetch("/api/posts/".concat(h),{method:"DELETE"});case 5:j.back();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)(i.a,{children:[Object(r.jsx)(l.a,{children:Object(r.jsx)("title",{children:"Sean Woodward | Blog - CMS - Update Article"})}),Object(r.jsx)(b.a,{href:"/cms/articles/",children:Object(r.jsx)("a",{className:"btn btn-link",children:"Back To Articles List"})}),Object(r.jsx)("h5",{className:"text-success",children:"Create New Article"}),Object(r.jsxs)(d.a,{className:"border border-light p-2",onSubmit:g,children:[Object(r.jsxs)(d.a.Group,{children:[Object(r.jsx)(d.a.Label,{children:"Category"}),Object(r.jsxs)(d.a.Control,{as:"select",value:t.category,onChange:function(e){return function(e){var r=e.target.value;n(x(x({},t),{},{category:r}))}(e)},children:[Object(r.jsx)("option",{value:"",children:"Please Select"}),a.map((function(e,t){return Object(r.jsx)("option",{value:e.uuid,children:e.title},t)}))]})]}),Object(r.jsxs)(d.a.Group,{children:[Object(r.jsx)(d.a.Label,{children:"Title"}),Object(r.jsx)(d.a.Control,{value:t.title,onChange:function(e){return function(e){var r=e.target.value,c=slugifyString(r);n(x(x({},t),{},{title:r,slug:c}))}(e)},type:"text"})]}),Object(r.jsxs)(d.a.Group,{children:[Object(r.jsx)(d.a.Label,{children:"Slug"}),Object(r.jsx)(d.a.Control,{value:t.slug,onChange:function(e){return function(e){var r=e.target.value;n(x(x({},t),{},{slug:r}))}(e)},type:"text"})]}),Object(r.jsxs)(d.a.Group,{children:[Object(r.jsx)(d.a.Label,{children:"Created"}),Object(r.jsx)(d.a.Control,{value:t.created,onChange:function(e){return function(e){var r=e.target.value;n(x(x({},t),{},{created:r}))}(e)},type:"date"})]}),Object(r.jsxs)(d.a.Group,{children:[Object(r.jsx)(d.a.Label,{children:"Content"}),Object(r.jsx)(d.a.Control,{as:"textarea",rows:3,value:t.content,onChange:function(e){return function(e){var r=e.target.value;n(x(x({},t),{},{content:r}))}(e)}})]}),Object(r.jsx)(O.a,{type:"submit",children:"Update"}),Object(r.jsx)(O.a,{variant:"danger",className:"float-right",onClick:v,children:"Delete"})]})]})})}},aURy:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/cms/articles/details/[id]",function(){return n("SsrU")}])}},[["aURy",0,2,1,3,4]]]);